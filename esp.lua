local a=game:GetService("Players")local b=game:GetService("UserInputService")local c=game:GetService("RunService")local d=game:GetService("Workspace")local e=game:GetService("CoreGui")local f=game:GetService("TweenService")local g=d.CurrentCamera local h=a.LocalPlayer local i=h:WaitForChild("PlayerGui")local j="IY_ESP_Gen_Menu"local k=i:FindFirstChild(j)or e:FindFirstChild(j)if k then k:Destroy()end local l=Instance.new("ScreenGui")l.Name=j l.ResetOnSpawn=false l.IgnoreGuiInset=true l.DisplayOrder=5 l.ZIndexBehavior=Enum.ZIndexBehavior.Sibling l.Parent=e local m=Instance.new("TextButton")m.Size=UDim2.new(0,120,0,40)m.Position=UDim2.new(0.02,0,0.7,0)m.BackgroundColor3=Color3.fromRGB(0,170,255)m.Text="MENÜ (K)"m.TextColor3=Color3.new(1,1,1)m.Font=Enum.Font.GothamBold m.TextScaled=true m.Active=true m.Draggable=true m.Parent=l local n=Instance.new("UICorner")n.CornerRadius=UDim.new(0,10)n.Parent=m local o=Instance.new("Frame")o.Size=UDim2.new(0,320,0,200)o.Position=UDim2.new(0.5,-160,0.5,-100)o.BackgroundColor3=Color3.fromRGB(25,25,35)o.BorderSizePixel=0 o.Active=true o.Draggable=true o.Visible=false o.Parent=l local p=Instance.new("UICorner")p.CornerRadius=UDim.new(0,15)p.Parent=o local q=Instance.new("Frame")q.Size=UDim2.new(1,10,1,10)q.Position=UDim2.new(0,-5,0,-5)q.BackgroundColor3=Color3.fromRGB(0,0,0)q.BackgroundTransparency=0.7 q.ZIndex=o.ZIndex-1 q.Parent=o local r=Instance.new("UICorner")r.CornerRadius=UDim.new(0,15)r.Parent=q local s=Instance.new("TextLabel")s.Size=UDim2.new(1,-50,0,35)s.Position=UDim2.new(0,15,0,5)s.BackgroundTransparency=1 s.Text=" Player-Esp & Generator-Esp "s.TextColor3=Color3.fromRGB(255,215,0)s.Font=Enum.Font.GothamBold s.TextScaled=true s.Parent=o local t=Instance.new("TextButton")t.Size=UDim2.new(0,30,0,30)t.Position=UDim2.new(1,-35,0,5)t.BackgroundColor3=Color3.fromRGB(255,50,50)t.Text="X"t.TextColor3=Color3.new(1,1,1)t.Font=Enum.Font.GothamBold t.TextScaled=true t.Parent=o local u=Instance.new("UICorner")u.CornerRadius=UDim.new(0,8)u.Parent=t t.MouseEnter:Connect(function()t.BackgroundColor3=Color3.fromRGB(255,0,0)end)t.MouseLeave:Connect(function()t.BackgroundColor3=Color3.fromRGB(255,50,50)end)local v=Instance.new("TextButton")v.Size=UDim2.new(0.45,-5,0,45)v.Position=UDim2.new(0.05,0,0.25,0)v.BackgroundColor3=Color3.fromRGB(170,0,0)v.Text=" Player-Esp [ON]"v.TextColor3=Color3.new(1,1,1)v.Font=Enum.Font.GothamBold v.TextScaled=true v.Parent=o local w=Instance.new("UICorner")w.CornerRadius=UDim.new(0,10)w.Parent=v local x=Instance.new("TextButton")x.Size=UDim2.new(0.45,-5,0,45)x.Position=UDim2.new(0.5,0,0.25,0)x.BackgroundColor3=Color3.fromRGB(170,0,0)x.Text="Generator-Esp [ON]"x.TextColor3=Color3.new(1,1,1)x.Font=Enum.Font.GothamBold x.TextScaled=true x.Parent=o local y=Instance.new("UICorner")y.CornerRadius=UDim.new(0,10)y.Parent=x local z=Instance.new("TextLabel")z.Size=UDim2.new(1,0,0,25)z.Position=UDim2.new(0,0,0.8,0)z.BackgroundTransparency=1 z.Text=" Press Esc to be abel to klick on the buttons whilg game running   Scriipt made by me lol  "z.TextColor3=Color3.fromRGB(200,200,200)z.Font=Enum.Font.Gotham z.TextScaled=true z.Parent=o local A=false local B=false local C=false local D={}local E={}local F local G=0 local function H()for _,I in pairs(D)do for _,J in pairs(I)do if J then J:Destroy()end end end D={}if F then F:Disconnect()end end local function K(L)local M,N=g:WorldToViewportPoint(L)return Vector2.new(M.X,M.Y),N end local function O(P)if P==h or not P.Character then return end local Q=P.Character local R=Q:FindFirstChild("Humanoid")local S=Q:FindFirstChild("HumanoidRootPart")local T=Q:FindFirstChild("Head")if not R or not S or not T then return end local U=Instance.new("Folder")U.Name=P.Name U.Parent=l local V=Instance.new("Frame")V.Name="2DBox"V.Size=UDim2.new(0,0,0,0)V.Position=UDim2.new(0,0,0,0)V.BackgroundTransparency=1 V.BorderSizePixel=2 V.BorderColor3=Color3.fromRGB(0,255,0)V.Visible=false V.Parent=U local W=Instance.new("TextLabel")W.Name="Name"W.Size=UDim2.new(0,200,0,20)W.BackgroundTransparency=1 W.Text=P.Name W.TextColor3=Color3.new(1,1,1)W.Font=Enum.Font.GothamBold W.TextSize=14 W.TextStrokeTransparency=0 W.TextStrokeColor3=Color3.new(0,0,0)W.Visible=false W.Parent=U local X=Instance.new("Frame")X.Name="HealthBar"X.Size=UDim2.new(0,4,0,40)X.Position=UDim2.new(0,0,0,0)X.BackgroundColor3=Color3.fromRGB(0,255,0)X.BorderSizePixel=0 X.Visible=false X.Parent=U local Y=Drawing.new("Line")Y.Thickness=2 Y.Color=Color3.fromRGB(0,255,0)Y.Transparency=1 Y.Visible=false local Z=Instance.new("TextLabel")Z.Name="Distance"Z.Size=UDim2.new(0,100,0,18)Z.BackgroundTransparency=1 Z.Text="0m"Z.TextColor3=Color3.fromRGB(255,255,0)Z.Font=Enum.Font.Gotham Z.TextSize=12 Z.TextStrokeTransparency=0 Z.TextStrokeColor3=Color3.new(0,0,0)Z.Visible=false Z.Parent=U D[P]={V,W,X,Z,Y}end local function _()for ab,ac in pairs(D)do if ab.Character and ab.Character:FindFirstChild("HumanoidRootPart")then local ad=ab.Character local ae=ad.Humanoid local af=ad.HumanoidRootPart local ag=ad:FindFirstChild("Head")local ah=(af.Position-h.Character.HumanoidRootPart.Position).Magnitude local ai=ab.Team==h.Team local aj=ai and Color3.fromRGB(0,255,0)or Color3.fromRGB(255,0,0)local ak,al=K(af.Position)local am=K(ag.Position+Vector3.new(0,0.5,0))local an=K(af.Position-Vector3.new(0,3,0))if al and ah<3000 then local ao=math.abs(am.Y-an.Y)local ap=ao*0.6 ac[1].Size=UDim2.new(0,ap,0,ao)ac[1].Position=UDim2.new(0,ak.X-ap/2,0,ak.Y-ao/2)ac[1].BorderColor3=aj ac[1].Visible=true ac[2].Position=UDim2.new(0,ak.X-100,0,am.Y-25)ac[2].TextColor3=aj ac[2].Visible=true local aq=ae.Health/ae.MaxHealth ac[3].Size=UDim2.new(0,4,0,ao*aq)ac[3].Position=UDim2.new(0,ak.X-ap/2-8,0,ak.Y+ao/2-(ao*aq))ac[3].BackgroundColor3=Color3.new(1-aq,aq,0)ac[3].Visible=true ac[4].Position=UDim2.new(0,ak.X-50,0,ak.Y+ao/2+5)ac[4].Text=math.floor(ah).."m"ac[4].Visible=true local ar=Vector2.new(g.ViewportSize.X/2,g.ViewportSize.Y)ac[5].From=ar ac[5].To=Vector2.new(ak.X,an.Y)ac[5].Color=aj ac[5].Visible=true else for as=1,4 do ac[as].Visible=false end ac[5].Visible=false end end end end local at=Color3.fromRGB(255,255,0)local au=Color3.fromRGB(255,0,0)local function av()for _,aw in ipairs(E)do if aw and aw.Parent then aw:Destroy()end end E={}end local function ax()av()local ay=d:FindFirstChild("Map")if not ay then return end G=0 for _,az in ipairs(ay:GetDescendants())do if az:IsA("Model")and az.Name=="Generator"then G=G+1 for _,aA in ipairs(az:GetDescendants())do if aA:IsA("BasePart")then local aB=Instance.new("Highlight")aB.FillColor=at aB.OutlineColor=au aB.FillTransparency=0.5 aB.OutlineTransparency=0 aB.DepthMode=Enum.HighlightDepthMode.AlwaysOnTop aB.Adornee=aA aB.Parent=aA table.insert(E,aB)end end end end end local function aC()C=not C o.Visible=C if C then m.Text="MENÜ (K)"m.BackgroundColor3=Color3.fromRGB(0,120,200)else m.Text="MENÜ (K)"m.BackgroundColor3=Color3.fromRGB(0,170,255)end end m.MouseButton1Click:Connect(aC)b.InputBegan:Connect(function(aD,aE)if aE then return end if aD.KeyCode==Enum.KeyCode.K then aC()end end)local function aF()A=not A if A then v.Text="PlayerEsp [OFF]"v.BackgroundColor3=Color3.fromRGB(0,170,0)for _,aG in pairs(a:GetPlayers())do if aG~=h then O(aG)end end F=c.Heartbeat:Connect(_)else v.Text="PlayerEsp [ON]"v.BackgroundColor3=Color3.fromRGB(170,0,0)H()end aH()end v.MouseButton1Click:Connect(aF)local function aI()B=not B if B then x.Text=" Generator-Esp [OFF]"x.BackgroundColor3=Color3.fromRGB(0,170,0)ax()else x.Text="Generator-Esp [ON]"x.BackgroundColor3=Color3.fromRGB(170,0,0)av()end aH()end x.MouseButton1Click:Connect(aI)local function aH()z.Text="Status: "..(C and"OPEN"or"CLOSED").." | PlayerEsp: "..(A and"ON"or"OFF").." | Generator-Esp: "..(B and"ON ("..G..")"or"OFF")end t.MouseButton1Click:Connect(function()H()av()l:Destroy()end)a.PlayerAdded:Connect(function(aJ)if A and aJ~=h then task.wait(2)O(aJ)end end)d.DescendantAdded:Connect(function(aK)if B and aK:IsA("Model")and aK.Name=="Generator"then task.wait(0.2)ax()end end)spawn(function()while l.Parent do l.DisplayOrder=5 task.wait(0.1)end end)
